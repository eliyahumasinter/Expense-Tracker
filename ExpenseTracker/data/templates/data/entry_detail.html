{% extends 'data/base.html' %}

{% block content %}

<div class="p-10 flex justify-center ">  
    <!--Card 1-->
    <div class="max-w-sm rounded overflow-hidden shadow-lg bg-red-200 ">
      <div class="px-6 py-4">
        <span class="text-2xl capitalize font-bold mb-2 mt-1">{{ object.title }}</span>
        <span class="text-xs, text-gray-500 float-right ml-4 mt-2">{{ object.date_posted|date:"F d, Y" }}</span>
        <p class="text-gray-700 text-xl mt-2">
            ${{ object.price}}
         </p>
      </div>

      {% if object.tags.all|length %}
        <div class="px-6 pt-2 pb-2">
          {% for tag in object.tags.all %}
            <span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2 float-right">#{{ tag }}</span>
          {% endfor %}
      {% endif %}
    <br>
      <div class="mt-10 mb-5 grid grid-flow-row-dense grid-cols-2 grid-rows-1 place-items-center">
        <div class="col-span-1 shadow-xl">
            <button id="btndel" class="bg-red-500 hover:bg-red-700 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center">
                    <i class="fa fa-trash fill-current mr-2" style="font-size:24px"></i>
                    <span>Delete</span>
            </a>
            </button>
        </div>
        <div class="col-span-1 shadow-xl">
            <a href="{% url 'data-update' title=object.title pk=object.id %}" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded inline-flex items-center">
                <i class="fa fa-pencil-square-o fill-current mr-2" style="font-size:24px"></i>
                <span>Update</span>
            </a>
        </div>
    </div>

    </div>
</div>



<style>
    #mymodal {
        display: none;
    }
</style>

<div id="mymodal" x-show="showDeleteModal" tabindex="0"
    class="z-40 overflow-auto left-0 top-0 bottom-0 right-0 w-full h-full fixed">
    <div @click.away="showDeleteModal = false" class="z-50 relative p-3 mx-auto my-0 max-w-full"
        style="width: 500px;">
        <div class="bg-white rounded shadow-lg border flex flex-col overflow-hidden px-10 py-10">
            <div class="text-center">
                <span>
                    <i class="fa fa-trash fill-current mr-2" style="font-size:70px; color: rgb(197,48,48);"></i>
                </span>
            </div>
            <div class="text-center py-6 text-2xl text-gray-700">Are you sure ?</div>
            <div class="text-center font-light text-gray-700 mb-8">
                Do you really want to delete this entry? This process cannot be undone.
            </div>
            <div class="flex justify-center">
                <form method="POST" action=" {% url 'data-delete' title=object.title pk=object.id %} ">
                    {% csrf_token %}
                    <input type="submit" value="Delete" class="bg-red-500 text-gray-200 rounded hover:bg-red-700 px-6 py-2 focus:outline-none mx-1">
                </form>
                <button id="modalbtnclose" class="bg-gray-300 text-gray-900 rounded hover:bg-gray-200 px-6 py-2 focus:outline-none mx-1">Cancel</button>
            </div>
        </div>
    </div>
    <div class="z-40 overflow-auto left-0 top-0 bottom-0 right-0 w-full h-full fixed bg-black opacity-50"></div>
</div>


<script>
    var modal = document.getElementById("mymodal");

    // Get the button that opens the modal
    var btn = document.getElementById("btndel");
    
    // Get the <span> element that closes the modal
    var span = document.getElementById("modalbtnclose");
    
    // When the user clicks on the button, open the modal
    btn.onclick = function() {
      modal.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
</script>

{% endblock %}


